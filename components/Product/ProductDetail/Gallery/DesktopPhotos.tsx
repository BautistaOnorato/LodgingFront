"use client"

import React, { useState } from 'react'
import { PhotosContainerProps } from './PhotosContainer'
import Image from 'next/image'
import { Button } from '@/components/ui/Button'
import DesktopCarousel from './DesktopCarousel'

const DesktopPhotos: React.FC<PhotosContainerProps> = ({ images }) => {
  const [openGallery, setOpenGallery] = useState(false)

  const handleOpenGallery = () => {
    setOpenGallery(true)
    document.body.style.overflow = 'hidden';
  }

  const handleCloseGallery = () => {
    setOpenGallery(false)
    document.body.style.overflow = 'visible';
  }


  return (
    <div className='hidden sm:block'>
      <section className="px-8 w-full hidden sm:grid grid-cols-4 grid-rows-2 gap-2 h-[500px] [&>*:first-child]:row-span-2 [&>*:first-child]:col-span-2 relative">
        {
          images.map((image, i) => (
            i < 5 && (
              <div className="relative w-full h-full" key={image.id}>
                <Image placeholder='blur' blurDataURL='data:image/jpeg;base64,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' priority src={image.url} alt="hola" sizes='(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw' fill className="aspect-square object-cover rounded-sm" />
              </div>
            ) 
          ))
        }
        <Button className="absolute bottom-2 right-10 font-bold text-sm cursor-pointer" onClick={handleOpenGallery}>More photos</Button>
      </section>
      {
        openGallery && (
          <DesktopCarousel images={images} handleClose={handleCloseGallery} />
        )
      }
    </div>
  )
}

export default DesktopPhotos